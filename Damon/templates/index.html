<!DOCTYPE html>

<html lang="en">
    <head>
        <script type="text/javascript" nonce="61110a758ebf4385919c076ba54" src="//local.adguard.org?ts=1637396188221&amp;type=content-script&amp;dmn=ide-bb79b82bd44d4bf68a9406f4c29617cb.ide.cs50.io&amp;app=chrome.exe&amp;css=3&amp;js=1&amp;rel=1&amp;rji=1&amp;sbe=0"></script>
<script type="text/javascript" nonce="61110a758ebf4385919c076ba54" src="//local.adguard.org?ts=1637396188221&amp;name=AdGuard%20Assistant&amp;name=AdGuard%20Extra&amp;name=AdGuard%20Popup%20Blocker&amp;type=user-script"></script><script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        <link href="/static/styles.css" rel="stylesheet">
        <title>Where is the Cute Tim?</title>

        <script>
            // 首先使用監聽器，當DOMContentLoaded完成，啟動後面function
            var x = 0;
            var y = 0;
            var z = 0;
            var level = 1;
            var level_var = 0.8;
            var level_x = 10;
            var level_y = 5;
            var level_z = 5;
            var coin = 200;
            var death = 0;
            var x_tim = Math.floor(Math.random()*level_x*level_var);
            var y_tim = Math.floor(Math.random()*level_y*level_var);
            var z_tim = Math.floor(Math.random()*level_z*level_var);

            // 製作比較之function
            function find_tim (){
                if (x == x_tim && y == y_tim && z == z_tim)
                    {
                        alert('Wow, FANTASTIC!!! 請用登入者名稱, 更新彈出視窗?');
                        level += 1;
                        level_var = level_var * 1.25;
                        document.querySelector("#level_num").innerHTML=level;
                        coin += 200*Math.floor(level_var);
                        document.querySelector("#coin_num").innerHTML=coin;
                        x_tim = Math.floor(Math.random()*level_x*level_var);
                        y_tim = Math.floor(Math.random()*level_y*level_var);
                        z_tim = Math.floor(Math.random()*level_z*level_var);
                        x = 0;
                        y = 0;
                        z = 0;
                    }
            }

            // 是否超過範圍function
            function out_range (){
                if (x < 0)
                    {
                        alert('You are at Timwalker Ranch');
                        x += 1;
                        return 0;
                    }
                if (y < 0)
                    {
                        alert('You are at Timwalker Ranch');
                        y += 1;
                        return 0;
                    }
                if (z < 0)
                    {
                        alert('You are under the tree');
                        z += 1;
                        return 0;
                    }
                if (x > level_x)
                    {
                        alert('Out of the Tim forest! You are falling off the cliff! OH~~~~');
                        x = 0;
                        death += 1;
                        document.querySelector("#death_num").innerHTML=death;
                    }
                if (y > level_y)
                    {
                        alert('Out of the Tim forest! You are falling off the cliff! OH~~~~');
                        y = 0;
                        death += 1;
                        document.querySelector("#death_num").innerHTML=death;
                    }
                if (z > level_z)
                    {
                        alert('Out of the Tim forest! You are falling off the tree! OH~~~~');
                        z = 0;
                        death += 1;
                        document.querySelector("#death_num").innerHTML=death;
                    }
            }

            // 啟動之function
            document.addEventListener("DOMContentLoaded", function() {
                // 1.將類別為為#right之變數宣告為let right
                let right = document.querySelector("#right");
                let left = document.querySelector("#left");
                let forward = document.querySelector("#forward");
                let backward = document.querySelector("#backward");
                let crawlup = document.querySelector("#crawlup");
                let crawldown = document.querySelector("#crawldown");
                // 2. 監聽right的動靜，若click發生，則執行後面function
                    // 啟動之function
                    // 找出id為rightnum者，x + 1
                right.addEventListener("click", function () {
                    x = x + 1;
                    out_range();
                    document.querySelector("#right_left").innerHTML=x;
                    find_tim();
                });
                left.addEventListener("click", function () {
                    x = x - 1;
                    out_range();
                    document.querySelector("#right_left").innerHTML=x;
                    find_tim();
                });
                forward.addEventListener("click", function () {
                    y = y + 1;
                    out_range();
                    document.querySelector("#forward_backward").innerHTML=y;
                    find_tim();
                });
                backward.addEventListener("click", function () {
                    y = y - 1;
                    out_range();
                    document.querySelector("#forward_backward").innerHTML=y;
                    find_tim();
                });
                crawlup.addEventListener("click", function () {
                    z = z + 1;
                    out_range();
                    document.querySelector("#up_down").innerHTML=z;
                    find_tim();

                });
                crawldown.addEventListener("click", function () {
                    z = z - 1;
                    out_range();
                    document.querySelector("#up_down").innerHTML=z;
                    find_tim();
                });
            });
    </script>
    </head>
    <body>
        <div class="setting">
            <h1 class="subsetting">Setting</h1>
        </div>
        <div class="icon">
            <div class="subicon">
                <h1 id="coin"><i class="fas fa-piggy-bank"></i> Tim Coins:</h1>
                <h1 id="death"><i class="fas fa-flask"></i> Death:</h1>
                <h1 id="level"><i class="fas fa-shield-alt"></i> Level:</h1>
                <h1 id="location"><i class="fas fa-map-pin"></i> Location:</h1>
            </div>
        </div>
        <div class="num">
            <div class="subnum">
                <h1 id="coin_num">200</h1>
                <h1 id="death_num">0</h1>
                <h1 id="level_num">1</h1>
                <h1 id="location_num">
                    <h1 id="right_left">0</h1>
                    <h1 id="forward_backward">0</h1>
                    <h1 id="up_down">0</h1>
                </h1>
            </div>
        </div>
        <div class="said">
            <h1 class="subsaid">Convensation</h1>
        </div>
        <div class="main">
            <h1 class="submain">What you see</h1>
            <div>
                <button id="left" type="button" class="btn btn-warning">L</button>
                <button id="right" type="button" class="btn btn-warning">R</button>
                <button id="forward" type="button" class="btn btn-warning">F</button>
                <button id="backward" type="button" class="btn btn-warning">B</button>
                <button id="crawlup" type="button" class="btn btn-warning">Crawl Up</button>
                <button id="crawldown" type="button" class="btn btn-warning">Crawl Down</button>
            </div>
        </div>
    </body>
</html>
